machine:
  timezone: UTC
  java:
    version: oraclejdk8

dependencies:
  cache_directories:
    - "~/.sbt"
    - "~/.ivy2"
  pre:
    - . $HOME/.nvm/nvm.sh
    - nvm install stable
    - nvm use stable
    - npm install
    - npm install jsdom
  override:
    - ./sbt "+ compile"

test:
  override:
    - ./sbt "+ test"
    - ./sbt coverage test coverageReport
  post:
    - ./sbt coverageAggregate coveralls
